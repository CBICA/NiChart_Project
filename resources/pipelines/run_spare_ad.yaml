pipeline_name: SPARE Scores - Alzheimer's Disease (Unharmonized)
description: |
  Pipeline which uses DLMUSE and input demographics to produce Alzheimer's Disease SPARE scores.

categories:
  - spare
  - inference
  - classification
  - alzheimers

requires:
  - needs_T1
  - needs_demographics
  - csv_has_columns: [MRID, Age, Sex]

steps:
  - id: run_nichart_dlmuse
    tool: nichart_dlmuse # MUST CORRESPOND EXACTLY to a tool in resources/tools dir
    inputs:
      t1_img: ${STUDY}/t1
    outputs:
      dlmuse_seg: ${STUDY}/dlmuse_seg
      dlmuse_vol: ${STUDY}/dlmuse_vol
  - id: run_spare_ad
    tool: spare_ad # MUST CORRESPOND EXACTLY to a tool in resources/tools dir
    inputs:
      dlmuse_vol: ${STUDY}/dlmuse_vol/DLMUSE_Volumes.csv
      demog_csv: ${STUDY}/participants/participants.csv
    outputs:
      spare_ad_csv: ${STUDY}/ml_biomarkers/SPARE_AD.csv
    