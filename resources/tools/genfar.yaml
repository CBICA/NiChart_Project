name: GenFar
description: This tool runs GenFar on the given scans. Scans must be MNI aligned to a particular template.

inputs:
  t1_dir: # Dir of NIFTI scans
    type: directory

outputs:
  output_dir: # Dir of GenFAR output
    type: directory

mounts:
  t1_dir:
    path_in_container: /input/images
    mode: ro
  output_dir:
    path_in_container: /output/genfar
    mode: rw

parameters:
  {} # Empty dictionary to signify no parameters

resources: # Used to allocate jobs on the cloud. Please be diligent.
  vcpus: 2
  memory: 14000 # Amount must be in MiB, see https://docs.aws.amazon.com/batch/latest/APIReference/API_ResourceRequirement.html
  gpus: 1

container:
  image: cbica/genfar:0.0.1
  command: --data-dir {t1_dir} --output_dir {output_dir}