name: dlicv_to_mni
description: This tool takes a dir of NIFTI images and a dir of associated binary masks (such as from DLICV) and aligns them to an MNI template

inputs:
  img_dir: # Dir of NIFTI scans
    type: directory
  mask_dir: # Dir of masks associated with img_dir's images
    type: directory

outputs:
  mni_dir: # Dir of MNI-aligned NIFTI scans
    type: directory

mounts:
  img_dir:
    path_in_container: /input/images
    mode: ro
  mask_dir:
    path_in_container: /input/masks
    mode: ro
  mni_dir:
    path_in_container: /output/mni
    mode: rw

parameters:
  {} # Empty dictionary to signify no parameters

resources: # Used to allocate jobs on the cloud. Please be diligent.
  vcpus: 2
  memory: 14000 # Amount must be in MiB, see https://docs.aws.amazon.com/batch/latest/APIReference/API_ResourceRequirement.html
  gpus: 0

container:
  image: cbica/nifti-align-to-mni:0.0.1
  command: --img_dir {img_dir} --mask_dir {mask_dir} --output_dir {mni_dir} --transform affine --mask_suffix _DLMUSE