name: binarize_seg_to_mask
description: This tool takes a dir of NIFTI segmentations and converts them to binary masks.

inputs:
  seg_dir: 
    type: directory
outputs:
  mask_dir:
    type: directory

mounts:
  seg_dir:
    path_in_container: /input/segs
    mode: ro
  mask_dir:
    path_in_container: /output/masks
    mode: rw

parameters:
  {} # Empty dictionary to signify no parameters

resources: # Used to allocate jobs on the cloud. Please be diligent.
  vcpus: 2
  memory: 14000 # Amount must be in MiB, see https://docs.aws.amazon.com/batch/latest/APIReference/API_ResourceRequirement.html
  gpus: 0

container:
  image: cbica/nifti-binarizer:0.0.1
  command: --input_dir {seg_dir} --output_dir {mask_dir}